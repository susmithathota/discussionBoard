<div ng-controller="sessionController as SC">
	welcome {{SC.curUser.name}} !
	<a href="/logout">logout</a>
	<div ng-controller="topicsController as TC">
		<div class="col-sm-6">
			<h3>Add a new Topic</h3>
			<form ng-submit="TC.addTopic()">
				 <div class="form-group">
				 <p style="color:red" ng-repeat="error in TC.errors track by $index">{{error}}</p>
				    <label for="topic">Topic</label>
				    <input type="text" class="form-control" ng-model="TC.newTopic.topic">
				 </div>
				 <div class="form-group">
				    <label for='description'>Description</label>
				    <textarea class="form-control" ng-model="TC.newTopic.description"></textarea>
				 </div>
				 <div class="form-group">
				    <label for="Category">Category</label>
				    <input type="text" class="form-control"  ng-model="TC.newTopic.category">
				 </div>
				 <div>
					 <input type="submit" class="btn btn-primary" value="Add Topic" >
				 </div>
			</form>
		</div>
		<div class="col-sm-8">
			<table class="table table-striped table-bordered">
				<thead>
					<tr>
						<th>Category</th>
						<th>Topic</th>
						<th>Likes</th>
						<th>User</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="topic in TC.topicsList | orderBy:'user.name'">
						<td>{{topic.category}}</td>
						<td> <a href="#/showTopic/{{topic._id}}"> {{topic.topic}}</a> </td>
						<td>{{topic.likes}} <a href="#/dash" class="btn btn-primary" ng-click="TC.likeTopic(topic._id)">like</a> </td>
						<td> <a href="#/showUser/{{topic.user._id}}"> {{topic.user.name}}</a> </td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>